# SZfinancEZ — это сервис для анализа инвестиционного портфеля с использованием реальных данных MOEX

Цель проекта — создать удобный backend-сервис, который:
- собирает данные об активах 
- хранит историю котировок активов
- строит аналитику
- собирает и отдает данные для графиков фронтенда.

#  QUICKSTART
cd backend 

docker compose --env-file .env.example up -d --build

При старте backend автоматически выполнит alembic миграции, сваггер будет доступен по http://localhost:8000/docs

# Идея проекта
- Автоматически собирать цены активов с MOEX через API
- Хранить данные в БД
- Позволять пользователю создавать портфели и позиции и управлять ими

Предоставлять аналитику по:
- структуре портфеля
- распределению по секторам
- динамике стоимости
Предоставлять удобный API

# Функционал на данный момент
- архитектура с разделением api, services, repositories, models, shemas
- набор эндпоинтов (аналитика и CRUDы)
- история сделок
- правильная по FIFO аналитика расчета PNL-ов по истории сделок
- отдельный модуль аналитики
- 3 вида аналитических сводок 
- отдельный сервис **price_updater** для обновления динамики цен активов
- авторизация/аутентификация JWT / Oauth2


# Используемые технологии и инструменты
•	Python 3.13
•	FastAPI
•   WebSocket
•	Pydantic
•	aiohttp
•   asyncio
•	PostgreSQL
•	SQLAlchemy 2.0 (async)
•	Alembic
•	Redis
•	Logging
•   API iss.moex
•   Auth JWT (Access/Refresh)

# В планах: 
- custom exceptions
- обеспечение скорости модуля аналитики raw sql запросами после того, как структура аналитики устоится
- кэшировение аналитических запросов через Redis
- улучшение микросервиса price_updater
- система задач/воркеров
- unit-тесты
- добавление новых источников данных
- разработать и добавить в файлы для сборки (docker, docker-compose)
- микрсервис на Python/Go для импорта портфеля из Т-инвестиций
- frontend клиент (react, next.js)
